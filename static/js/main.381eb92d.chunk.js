(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(18)},18:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(3),c=n.n(o),r=(n(2),n(7)),i=n(10),m=n(8),l=n(4),u=n(5),d=n(9),f=n(6),p=n(11);var h=function(e){var t=e.user.address,n=t.suite,a=t.street,o=t.city,c=t.zipcode,r=t.geo;return s.a.createElement("div",{className:"app-card_item"},s.a.createElement("div",{className:"user-info"},s.a.createElement("h1",{className:"user-info__name"},e.user.name),s.a.createElement("div",{className:"user-info__contact-info"},s.a.createElement("p",null,e.user.email),s.a.createElement("p",{className:"contact-info__address"},"\n              ".concat(n,"\n              ").concat(a,"\n              ").concat(o,"\n              ").concat(c,"\n\n              (").concat(r.lat,", ").concat(r.lng,")\n            ")))))};var E=function(e){return s.a.createElement("div",{className:"user-post__body"},s.a.createElement("h2",{className:"user-post__body-title"},e.postItem.title),s.a.createElement("p",{className:"user-post__body-text"},e.postItem.body),s.a.createElement("hr",{className:"user-post__line-break"}))};var b=function(e){return s.a.createElement("div",{className:"user-post__comment"},s.a.createElement("p",{className:"comment-name"},e.commentItem.name),s.a.createElement("p",{className:"comment-email"},e.commentItem.email),s.a.createElement("p",{className:"comment-text"},e.commentItem.body))};var v=function(e){return s.a.createElement("div",null,s.a.createElement(E,{postItem:e.post}),s.a.createElement("button",{type:"button",className:"user-post__body-comment-label",onClick:function(){return e.onClick(e.postIndex)}},"Comments \u2bc6"),e.showComments&&e.post.comments.map(function(e){return s.a.createElement(b,{commentItem:e})}))};var y=function(e){return s.a.createElement("div",null,s.a.createElement("input",{type:"search",placeholder:"Filter by...",onChange:e.filterBy,className:"filter-input"}))},N="https://jsonplaceholder.typicode.com",C=function(){return fetch("".concat(N,"/posts")).then(function(e){return e.json()})},_=function(){return fetch("".concat(N,"/users")).then(function(e){return e.json()})},w=function(){return fetch("".concat(N,"/comments")).then(function(e){return e.json()})},L=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).loadData=function(){n.setState({isLoading:!0}),Promise.all([C(),_(),w()]).then(function(e){var t=Object(m.a)(e,3),a=t[0],s=t[1],o=t[2],c=a.map(function(e){return Object(i.a)({},e,{user:s.find(function(t){return t.id===e.userId}),comments:o.filter(function(t){return e.id===t.postId})})});n.setState({listOfPosts:c,isLoaded:!0,isLoading:!1,visiblePosts:c,showComments:Array(c.length).fill(!1)})})},n.showCommentClick=function(e){n.setState(function(t){var n=Object(r.a)(t.showComments);return n[e]=!n[e],{showComments:n}})},n.filterBy=function(e){var t=n.state.listOfPosts;t=t.filter(function(t){return-1!==(t.title+t.body).toLowerCase().search(e.target.value.toLowerCase())}),n.setState({visiblePosts:t})},n.state={listOfPosts:[],visiblePosts:[],isLoaded:!1,isLoading:!1,showComments:[]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},!this.state.isLoaded&&s.a.createElement("button",{onClick:this.loadData,type:"button",disabled:this.state.isLoading,className:"load-button"},this.state.isLoading?"Loading...":"LOAD"),this.state.isLoaded&&s.a.createElement(y,{isLoaded:this.state.isLoaded,filterBy:this.filterBy}),this.state.visiblePosts.map(function(t,n){return s.a.createElement("div",{className:"post-item",key:t.id},s.a.createElement(h,{key:t.user.id,user:t.user}),s.a.createElement("div",{className:"user-post"},s.a.createElement(v,{post:t,showComments:e.state.showComments[n],onClick:e.showCommentClick,postIndex:n})))}))}}]),t}(s.a.Component);var g=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h1",{className:"app-title"},"List of posts"),s.a.createElement(L,null))};c.a.render(s.a.createElement(g,null),document.getElementById("root"))},2:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.381eb92d.chunk.js.map