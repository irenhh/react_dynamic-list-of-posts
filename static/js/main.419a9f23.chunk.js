(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(18)},18:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(5),c=n.n(o),r=(n(4),n(9)),i=n(2),l=n(6),m=n(7),u=n(11),d=n(8),p=n(1),h=n(10);var f=function(e){var t=e.user.address,n=t.suite,a=t.street,o=t.city,c=t.zipcode,r=t.geo;return s.a.createElement("div",{className:"app-card_item"},s.a.createElement("div",{className:"user-info"},s.a.createElement("h1",{className:"user-info__name"},e.user.name),s.a.createElement("div",{className:"user-info__contact-info"},s.a.createElement("p",null,e.user.email),s.a.createElement("p",{className:"contact-info__address"},"\n              ".concat(n,"\n              ").concat(a,"\n              ").concat(o,"\n              ").concat(c,"\n\n              (").concat(r.lat,", ").concat(r.lng,")\n            ")))))};var b=function(e){return s.a.createElement("div",{className:"user-post__body"},s.a.createElement("h2",{className:"user-post__body-title"},e.postItem.title),s.a.createElement("p",{className:"user-post__body-text"},e.postItem.body),s.a.createElement("hr",{className:"user-post__line-break"}))};var v=function(e){return s.a.createElement("div",{className:"user-post__comment"},s.a.createElement("p",{className:"comment-name"},e.commentItem.name),s.a.createElement("p",{className:"comment-email"},e.commentItem.email),s.a.createElement("p",{className:"comment-text"},e.commentItem.body))};var E=function(e){return s.a.createElement("div",null,s.a.createElement(b,{postItem:e.post}),s.a.createElement("button",{type:"button",className:"user-post__body-comment-label",onClick:function(){return e.onClick(e.postIndex)}},"Comments \u2bc6"),e.showComments&&e.post.comments.map(function(e){return s.a.createElement(v,{commentItem:e})}))};var y=function(e){var t=e.isLoaded,n=e.filterBy;return t&&s.a.createElement("div",null,s.a.createElement("input",{type:"search",placeholder:"Filter by...",onChange:n,className:"filter-input"}))},C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={listOfPosts:[],visibleList:[],buttonDisabled:!1,isLoaded:!1,text:"LOAD",showComments:[]},n.handleClick=n.handleClick.bind(Object(p.a)(n)),n.filterBy=n.filterBy.bind(Object(p.a)(n)),n.showCommentClick=n.showCommentClick.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"showCommentClick",value:function(e){this.setState(function(t){var n=Object(i.a)(t.showComments);return n[e]=!n[e],{showComments:n}})}},{key:"filterBy",value:function(e){var t=this.state.listOfPosts;t=t.filter(function(t){return-1!==(t.title+t.body).toLowerCase().search(e.target.value.toLowerCase())}),this.setState({visibleList:t})}},{key:"handleClick",value:function(){var e=this;this.setState({buttonDisabled:!0,text:"Loading..."});var t=fetch("https://jsonplaceholder.typicode.com/posts").then(function(e){return e.json()}),n=fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()}),a=fetch("https://jsonplaceholder.typicode.com/comments").then(function(e){return e.json()});Promise.all([t,n,a]).then(function(t){var n=t[0],a=t[1],s=t[2];e.setState({listOfPosts:n.map(function(e){return Object(r.a)({},e,{user:a.find(function(t){return t.id===e.userId}),comments:s.filter(function(t){return e.id===t.postId})})}),isLoaded:!0})}).then(function(){e.setState({visibleList:Object(i.a)(e.state.listOfPosts),showComments:Array(e.state.listOfPosts.length).fill(!1)})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},!this.state.isLoaded&&s.a.createElement("button",{onClick:this.handleClick,type:"button",disabled:this.state.buttonDisabled,className:"load-button"},this.state.text),s.a.createElement(y,{isLoaded:this.state.isLoaded,filterBy:this.filterBy}),this.state.visibleList.map(function(t,n){return s.a.createElement("div",{className:"post-item"},s.a.createElement(f,{key:t.user.id,user:t.user}),s.a.createElement("div",{className:"user-post"},s.a.createElement(E,{post:t,showComments:e.state.showComments[n],onClick:e.showCommentClick,postIndex:n})))}))}}]),t}(s.a.Component);var N=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h1",{className:"app-title"},"List of posts"),s.a.createElement(C,null))};c.a.render(s.a.createElement(N,null),document.getElementById("root"))},4:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.419a9f23.chunk.js.map